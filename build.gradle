plugins {
    id 'java'
}

apply plugin: "jacoco"

group 'test_jenkins_demo'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.apache.maven.plugins', name: 'maven-surefire-plugin', version: '2.19.1'
    compile 'org.testng:testng:6.8.17'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

test {
    useTestNG {
        suites(file('src/test/resources/testNG.xml'));
    }
    beforeTest { descriptor ->
        logger.lifecycle("Running test: " + descriptor)
    }
    onOutput { descriptor, event ->
        logger.lifecycle("Test: " + descriptor + " produced standard out/err: " + event.message)
    }
    reports.html.enabled = true
}

jacocoTestReport {
    reports {
        xml.enabled false
        csv.enabled false
        html.enabled true
    }
}
